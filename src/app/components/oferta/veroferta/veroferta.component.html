<div class="container-general">
  <div class="mis-ofertas-container">

    <!-- OFERTAS ACTIVAS -->
    <section class="ofertas-recientes">
      <h2>Ofertas Activas</h2>
      <p *ngIf="ofertasActivas.length === 0">No hay ofertas activas.</p>

      <div class="carousel-container" *ngIf="ofertasActivas.length > 0">
        <button class="scroll-btn left" *ngIf="ofertasActivas.length > 3" (click)="scrollLeft('activas')">&#9664;</button>

        <div class="carousel-track" #carouselActivas>
          <div class="oferta-card" *ngFor="let oferta of ofertasActivas">
            <div class="oferta-header">
              <img src="https://citas.maisondesante.org.pe/assets/images/CMS_300.png" alt="Logo Empresa" class="logo" />
              <div class="oferta-info">
                <h3>{{ oferta.puestoDeTrabajo.titulo }}</h3>
                <div class="empresa-distrito">
                  <span class="empresa">Clínica Maison de Santé</span>
                  <span class="separador">|</span>
                  <span class="distrito">{{ oferta.puestoDeTrabajo.distrito }}</span>

                  <!-- Botón Editar -->
                  <a
                    class="btn-edit"
                    [routerLink]="['/crearoferta','Ediciones', oferta.idOferta]"
                    aria-label="Editar oferta"
                    title="Editar oferta"
                  >
                    <svg class="icon-pencil" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                      <path d="M3 17.25V21h3.75l11-11-3.75-3.75-11 11zM20.71 7.04a1.003 1.003 0 0 0 0-1.42L18.37 3.29a1.003 1.003 0 0 0-1.42 0l-1.83 1.83 3.75 3.75 1.84-1.83z"></path>
                    </svg>
                    <span>Editar</span>
                  </a>

                  <!-- Botón Reloj (actualizar fecha/estado) -->
                  <a
                    class="btn-time"
                    [routerLink]="['/crearoferta2', oferta.idOferta]"
                    aria-label="Actualizar vigencia de oferta"
                    title="Actualizar vigencia"
                  >
                    <svg class="icon-clock" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                      <path d="M12 1.75A10.25 10.25 0 1 0 22.25 12 10.262 10.262 0 0 0 12 1.75zm0 18.5A8.25 8.25 0 1 1 20.25 12 8.259 8.259 0 0 1 12 20.25zm.75-12.5a.75.75 0 0 0-1.5 0v4.25a.75.75 0 0 0 .33.62l2.75 1.83a.75.75 0 1 0 .84-1.24L12.75 12.2z"></path>
                    </svg>
                  </a>
                </div>
              </div>
            </div>

            <div class="oferta-detalles">
              <div class="etiquetas">
                <span>{{ extraerExperiencia(oferta.puestoDeTrabajo.requisitos) }}</span>
                <span>{{ oferta.puestoDeTrabajo.modalidad }}</span>
                <span>{{ oferta.puestoDeTrabajo.salario | currency:'PEN':'symbol':'1.0-0' }}</span>
              </div>

              <p class="descripcion">{{ oferta.puestoDeTrabajo.descripcion | slice:0:100 }}...</p>

              <div class="oferta-footer">
                <span class="fecha-cierre">Termina el {{ oferta.fechaCulminacion }}</span>
                <button class="btn btn-ver" [routerLink]="['/dashboards', oferta.idOferta]">
                  Ver Estadísticas
                </button>
              </div>
            </div>
          </div>
        </div>

        <button class="scroll-btn right" *ngIf="ofertasActivas.length > 3" (click)="scrollRight('activas')">&#9654;</button>
      </div>
    </section>

    <!-- OFERTAS CULMINADAS -->
    <section class="ofertas-recientes">
      <h2>Ofertas Culminadas</h2>
      <p *ngIf="ofertasCulminadas.length === 0">No hay ofertas culminadas.</p>

      <div class="carousel-container" *ngIf="ofertasCulminadas.length > 0">
        <button class="scroll-btn left" *ngIf="ofertasCulminadas.length > 3" (click)="scrollLeft('culminadas')">&#9664;</button>

        <div class="carousel-track" #carouselCulminadas>
          <div class="oferta-card" *ngFor="let oferta of ofertasCulminadas">
            <div class="oferta-header">
              <img src="https://citas.maisondesante.org.pe/assets/images/CMS_300.png" alt="Logo Empresa" class="logo" />
              <div class="oferta-info">
                <h3>{{ oferta.puestoDeTrabajo.titulo }}</h3>
                <div class="empresa-distrito">
                  <span class="empresa">Clínica Maison de Santé</span>
                  <span class="separador">|</span>
                  <span class="distrito">{{ oferta.puestoDeTrabajo.distrito }}</span>
                </div>
              </div>

              <!-- Botón Editar -->
              <a
                class="btn-edit"
                [routerLink]="['/crearoferta','Ediciones', oferta.idOferta]"
                aria-label="Editar oferta"
                title="Editar oferta"
              >
                <svg class="icon-pencil" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                  <path d="M3 17.25V21h3.75l11-11-3.75-3.75-11 11zM20.71 7.04a1.003 1.003 0 0 0 0-1.42L18.37 3.29a1.003 1.003 0 0 0-1.42 0l-1.83 1.83 3.75 3.75 1.84-1.83z"></path>
                </svg>
                <span>Editar</span>
              </a>

              <!-- Botón Reloj -->
              <a
                class="btn-time"
                [routerLink]="['/crearoferta2', oferta.idOferta]"
                aria-label="Actualizar vigencia de oferta"
                title="Actualizar vigencia"
              >
                <svg class="icon-clock" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                  <path d="M12 1.75A10.25 10.25 0 1 0 22.25 12 10.262 10.262 0 0 0 12 1.75zm0 18.5A8.25 8.25 0 1 1 20.25 12 8.259 8.259 0 0 1 12 20.25zm.75-12.5a.75.75 0 0 0-1.5 0v4.25a.75.75 0 0 0 .33.62l2.75 1.83a.75.75 0 1 0 .84-1.24L12.75 12.2z"></path>
                </svg>
              </a>
            </div>

            <div class="oferta-detalles">
              <div class="etiquetas">
                <span>{{ oferta.puestoDeTrabajo.experiencia }}</span>
                <span>{{ oferta.puestoDeTrabajo.modalidad }}</span>
                <span>{{ oferta.puestoDeTrabajo.salario | currency:'PEN':'symbol':'1.0-0' }}</span>
              </div>

              <p class="descripcion">{{ oferta.puestoDeTrabajo.descripcion | slice:0:100 }}...</p>

              <div class="oferta-footer">
                <span class="fecha-cierre">Terminó el {{ oferta.fechaCulminacion }}</span>
                <button class="btn btn-ver" [routerLink]="['/dashboards', oferta.idOferta]">
                  Ver Estadísticas
                </button>
              </div>
            </div>
          </div>
        </div>

        <button class="scroll-btn right" *ngIf="ofertasCulminadas.length > 3" (click)="scrollRight('culminadas')">&#9654;</button>
      </div>
    </section>
  </div>
</div>
